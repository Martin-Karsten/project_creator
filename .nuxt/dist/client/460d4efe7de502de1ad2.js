(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{300:function(t,s,i){var a=i(411);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(27).default)("006a1b08",a,!0,{})},410:function(t,s,i){"use strict";var a=i(300);i.n(a).a},411:function(t,s,i){(t.exports=i(26)(!1)).push([t.i,"img.profile-photo{width:75px;height:75px;border-radius:25px}input.modal-input-1{margin:20px 20px 10px}input.modal-input-2{margin:10px 20px}.file-drop-area{margin-left:24px;position:relative;display:flex;align-items:center;width:500px;max-width:100%;padding:50px;border:1.2px dashed #000;border-radius:3px;transition:.2s}.file-drop-area.is-active{background-color:hsla(0,0%,100%,.05)}.fake-btn{flex-shrink:0;background-color:hsla(0,0%,100%,.04);border:1px solid hsla(0,0%,100%,.1);border-radius:3px;padding:8px 0;margin-right:10px;font-size:12px;text-transform:uppercase}.file-msg{font-size:small;font-weight:300;line-height:1.4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-input{position:absolute;left:0;top:0;height:100%;width:100%;cursor:pointer;opacity:0}.file-input:focus{outline:none}",""])},584:function(t,s,i){"use strict";i.r(s);i(22);var a=i(6),e=i.n(a),l=(i(34),i(137)),o=i(39),r=i.n(o),n=i(21),d={components:{modal:l.default},scrollToTop:!1,head:function(){return{title:this.$t("settings")}},data:function(){return{currentModal:"",showModal:!1,dropActive:!1,file:"",backgroundColor:{old:"white",new:"lightgray",temp:"",changed:!1},pictureForm:new r.a({newPhoto:""}),nameForm:new r.a({name:""})}},computed:Object(n.b)({user:"auth/user"}),created:function(){var t=this;this.pictureForm.keys().forEach(function(s){t.pictureForm[s]=t.user[s]})},methods:{acivateNameModal:function(){this.showModal=!0,this.currentModal="userNameModal"},onDragEnter:function(){this.backgroundColor.temp=this.backgroundColor.old,this.backgroundColor.old=this.backgroundColor.new,this.dropActive=!0},onDragLeave:function(){this.backgroundColor.changed||(this.backgroundColor.old=this.backgroundColor.temp),this.dropActive=!1},onInputChange:function(t){this.backgroundColor.changed=!0,this.backgroundColor.old=this.backgroundColor.new,this.file=t.target.files[0],console.log(this.file)},update:function(){var t=e()(regeneratorRuntime.mark(function t(){var s,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.form.patch("/settings/profile");case 2:s=t.sent,i=s.data,this.$store.dispatch("auth/updateUser",{user:i});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},c=(i(410),i(5)),u=Object(c.a)(d,function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("p",{staticClass:"title is-3"},[t._v("Profile")]),t._v(" "),i("div",{staticClass:"level"},[t._m(0),t._v(" "),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("img",{staticClass:"profile-photo",attrs:{src:t.user.photo_url}})]),t._v(" "),i("div",{staticClass:"level-item"},[i("div",{staticClass:"field has-addons"},[i("p",{staticClass:"control"},[i("button",{staticClass:"button",on:{click:function(s){t.showModal=!0,t.currentModal="pictureModal"}}},[t._v("\n            Edit\n          ")])])])])])]),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"level"},[t._m(1),t._v(" "),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("p",{staticClass:"subtitle is-5"},[i("strong",[t._v(t._s(t.user.first_name)+" "+t._s(t.user.last_name))])])]),t._v(" "),i("div",{staticClass:"level-item"},[i("div",{staticClass:"field has-addons"},[i("p",{staticClass:"control"},[i("button",{staticClass:"button",on:{click:function(s){t.showModal=!0,t.currentModal="nameModal"}}},[t._v("\n            Edit\n          ")])])])])])]),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"level"},[t._m(2),t._v(" "),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("p",{staticClass:"subtitle is-5"},[i("strong",[t._v(t._s(t.user.email))])])]),t._v(" "),i("div",{staticClass:"level-item"},[i("div",{staticClass:"field has-addons"},[i("p",{staticClass:"control"},[i("button",{staticClass:"button",on:{click:function(s){t.showModal=!0,t.currentModal="emailModal"}}},[t._v("\n            Edit\n          ")])])])])])]),t._v(" "),t.showModal?i("modal",{on:{close:function(s){t.showModal=!1,t.currentModal="",t.file="",t.backgroundColor.old="white",t.backgroundColor.changed=!1}}},["pictureModal"==t.currentModal?i("div",{attrs:{slot:"form-container"},slot:"form-container"},[i("h3",{staticClass:"title is-3 modal-card-head",attrs:{slot:"header"},slot:"header"},[t._v("Edit Profile Picture")]),t._v(" "),i("div",{attrs:{slot:"body"},slot:"body"},[i("div",{staticClass:"file-drop-area",style:{backgroundColor:t.backgroundColor.old}},[""==t.file?i("div",[i("span",{staticClass:"fake-btn"},[t._v("Choose file")]),t._v(" "),""==t.file?i("span",{staticClass:"file-msg"},[t._v("or drag and drop file here")]):t._e()]):i("span",{staticClass:"name"},[t._v(t._s(t.file.name))]),t._v(" "),i("input",{staticClass:"file-input",attrs:{type:"file"},on:{dragenter:t.onDragEnter,dragleave:t.onDragLeave,change:t.onInputChange}})])])]):"nameModal"==t.currentModal?i("div",{attrs:{slot:"form-container"},slot:"form-container"},[i("h3",{staticClass:"title is-3 modal-card-head",attrs:{slot:"header"},slot:"header"},[t._v("Edit your Name")]),t._v(" "),i("div",{attrs:{slot:"body"},slot:"body"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{staticClass:"input is-medium modal-input-1",staticStyle:{width:"495px"},attrs:{type:"text",placeholder:"First Name"}})])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{staticClass:"input is-medium modal-input-2",staticStyle:{width:"495px"},attrs:{type:"text",placeholder:"Last Name"}})])])])]):"emailModal"==t.currentModal?i("div",{attrs:{slot:"form-container"},slot:"form-container"},[i("h3",{staticClass:"title is-3 modal-card-head",attrs:{slot:"header"},slot:"header"},[t._v("Edit "+t._s(t.user.email))]),t._v(" "),i("div",{attrs:{slot:"body"},slot:"body"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{staticClass:"input is-medium modal-input-1",staticStyle:{width:"495px"},attrs:{type:"email",placeholder:"New Email address"}})])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{staticClass:"input is-medium modal-input-2",staticStyle:{width:"495px"},attrs:{type:"email",placeholder:"Confirm Email address"}})])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{staticClass:"input is-medium modal-input-2",staticStyle:{width:"495px"},attrs:{type:"email",placeholder:"Password"}})])])])]):t._e()]):t._e()],1)},[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("p",{staticClass:"subtitle is-5"},[s("strong",[this._v("Picture")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("p",{staticClass:"subtitle is-5"},[s("strong",[this._v("Name")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("p",{staticClass:"subtitle is-5"},[s("strong",[this._v("E-Mail")])])])])}],!1,null,null,null);u.options.__file="profile.vue";s.default=u.exports}}]);