exports.ids=[11],exports.modules={163:function(e,t,o){var content=o(239);"string"==typeof content&&(content=[[e.id,content,""]]),content.locals&&(e.exports=content.locals);var r=o(7).default;e.exports.__inject__=function(e){r("8100f656",content,!0,e)}},238:function(e,t,o){"use strict";o.r(t);var r=o(163),l=o.n(r);for(var n in r)"default"!==n&&function(e){o.d(t,e,function(){return r[e]})}(n);t.default=l.a},239:function(e,t,o){(e.exports=o(6)(!1)).push([e.id,".profile-container{margin-left:12rem;margin-right:12rem}.profile-items{display:flex;align-items:center;height:10rem}.profile-items:nth-child(odd){background-color:#f4f5f5}.profile-items:nth-child(2n){background-color:#e6e6e6}.profile-items-inner{display:flex;align-items:center}img.profile-photo{width:75px;height:75px;border-radius:30px}.modal-inputs{padding-left:3rem;padding-right:3rem}.last-name-modal-input{margin-bottom:0!important}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden;display:table;margin:0 auto}.avatar-uploader .el-upload:hover{border-color:#409eff}.modal-avatar-photo{width:100%;height:100%;display:block}",""])},305:function(e,t,o){"use strict";o.r(t);var r=o(48),l=o(10),n=o.n(l),d=o(5),c=o.n(d),m=o(4),f={components:{Modal:r.default},scrollToTop:!1,head(){return{title:this.$t("settings")}},data:()=>({apiUrl:"http://localhost:8000",isModalVisible:!1,modalName:"imageModal",avatar:"",profileImage:"",form:new n.a({first_name:"",last_name:"",email:"",avatar:""})}),computed:Object(m.mapGetters)({user:"auth/user"}),created(){this.form.keys().forEach(e=>{this.form[e]=this.user[e]})},methods:{showModal(e){switch(this.isModalVisible=!0,e){case"imageModal":case"nameModal":case"emailModal":return void(this.modalName=e)}},closeModal(){this.isModalVisible=!1,this.modalName=""},getProfileImage(){return console.log(this.user,"upateProfile"),this.apiUrl+"/storage/"+this.user.avatar},beforeAvatarUpload(e){const t="image/jpeg"===e.type,o="image/png"===e.type,r=e.size/1024/1024<2;t||o||this.$message.error("Avatar picture must be JPG or PNG format!"),r||this.$message.error("Avatar picture size can not exceed 2MB!"),this.avatar=e},updateImage(){let e=this;var t=new FormData;t.append("image",this.avatar,this.avatar.name),c()({method:"post",url:"/settings/avatar",data:t,config:{headers:{"Content-Type":"application/json"}}}).then(function(t){e.$store.dispatch("auth/updateUser",{user:t.data})}),this.closeModal()},async updateName(){try{const{data:data}=await this.form.patch(`users/${this.user.id}`);this.$store.commit("auth/UPDATE_USER",data)}catch(e){}this.isModalVisible=!1,this.modalName=""},async updateEmail(){}}},h=o(3);var component=Object(h.a)(f,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-main",{staticClass:"profile-container"},[o("h3",[e._v("Profile")]),e._v(" "),o("el-row",{staticClass:"profile-items"},[o("el-col",{attrs:{span:13,offset:4}},[e._v("\n        Profile Picture\n      ")]),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-row",{staticClass:"profile-items-inner"},[o("el-col",{attrs:{span:4,offset:1}},[o("img",{staticClass:"profile-photo",attrs:{src:this.apiUrl+"/storage/"+this.user.avatar}})]),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-button",{staticClass:"profile-edit-button",on:{click:function(t){return e.showModal("imageModal")}}},[e._v("Edit")])],1)],1)],1)],1),e._v(" "),o("el-row",{staticClass:"profile-items"},[o("el-col",{attrs:{span:13,offset:4}},[e._v("\n        Name\n      ")]),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-row",{staticClass:"profile-items-inner"},[o("el-col",{attrs:{span:5}},[e._v("\n            "+e._s(e.user.first_name)+" "+e._s(e.user.last_name)+"\n          ")]),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-button",{staticClass:"profile-edit-button",on:{click:function(t){return e.showModal("nameModal")}}},[e._v("Edit")])],1)],1)],1)],1),e._v(" "),o("el-row",{staticClass:"profile-items"},[o("el-col",{attrs:{span:13,offset:4}},[e._v("\n        Email Address\n      ")]),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-row",{staticClass:"profile-items-inner"},[o("el-col",{attrs:{span:4,offset:1}},[e._v(" \n            "+e._s(e.user.email)+"\n          ")]),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-button",{staticClass:"profile-edit-button",on:{click:function(t){return e.showModal("emailModal")}}},[e._v("Edit")])],1)],1)],1)],1)],1),e._ssrNode(" "),"imageModal"===e.modalName?o("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{close:e.closeModal},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Edit Your Profile Image")])]},proxy:!0},{key:"body",fn:function(){return[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"`http://localhost:8000/users/1`","show-file-list":!1,"before-upload":e.beforeAvatarUpload,drag:!0,"auto-upload":!0,"http-request":e.updateImage}},[o("img",{staticClass:"modal-avatar-photo",attrs:{src:e.getProfileImage()}})])]},proxy:!0}],null,!1,3062169865)}):"nameModal"===e.modalName?o("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{close:e.closeModal,showModal:e.showModal},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Edit you Username")])]},proxy:!0},{key:"body",fn:function(){return[o("el-form",{staticClass:"modal-buttons",on:{submit:function(t){return t.preventDefault(),e.updateName(t)}}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.user.first_name},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}})],1),e._v(" "),o("el-form-item",{staticClass:"last-name-modal-input"},[o("el-input",{attrs:{placeholder:e.user.last_name},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}})],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[o("div"),e._v(" "),o("el-button",{attrs:{type:"success"},on:{click:e.updateName}},[e._v("Submit")]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:e.closeModal}},[e._v("Cancel")])]},proxy:!0}])}):"emailModal"===e.modalName?o("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{close:e.closeModal,showModal:e.showModal},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Edit you Email Address")])]},proxy:!0},{key:"body",fn:function(){return[o("el-form",{staticClass:"modal-buttons",on:{submit:function(t){return t.preventDefault(),e.updateEmail(t)}}},[o("el-form-item",[o("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[o("el-button",{attrs:{type:"success"},on:{click:e.updateName}},[e._v("Submit")]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:e.closeModal}},[e._v("Cancel")])]},proxy:!0}])}):e._e()],2)},[],!1,function(e){var t=o(238);t.__inject__&&t.__inject__(e)},null,"2111b47a");t.default=component.exports}};
//# sourceMappingURL=413046561ae278291959.js.map