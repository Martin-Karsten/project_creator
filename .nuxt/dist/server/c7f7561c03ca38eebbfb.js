exports.ids=[12],exports.modules={157:function(e,t,o){var content=o(226);"string"==typeof content&&(content=[[e.id,content,""]]),content.locals&&(e.exports=content.locals);var r=o(7).default;e.exports.__inject__=function(e){r("5a16635a",content,!0,e)}},225:function(e,t,o){"use strict";o.r(t);var r=o(157),c=o.n(r);for(var n in r)"default"!==n&&function(e){o.d(t,e,function(){return r[e]})}(n);t.default=c.a},226:function(e,t,o){(e.exports=o(6)(!1)).push([e.id,".home-sidebar{height:88vh;margin-top:1.4rem}.home-content{height:90vh;overflow-y:auto;padding-bottom:0}.home-content-row{margin-bottom:0!important;padding-bottom:0;min-height:93%}.home-content-column{padding:0 .5rem 1rem;border-radius:4px}.cptn03{overflow:hidden;border-radius:4px}.cptn03,.cptn03 img{width:100%;position:relative}.cptn03 img{height:100%;left:0;bottom:0}.home-column-checkbox{position:absolute;top:15px;left:345px}.cptn03 .cptn{background:rgba(84,92,100,.5);width:95%;height:30%;position:absolute;left:0;overflow:auto;padding:0 10px;border-radius:4px;top:68%}.cptn03 .cptn div{float:left;height:100%}.cptn03 .cptn .fa{-wibkit-box-sizing:content-box;box-sizing:content-box;border:2px solid #fff;-wibkit-border-radius:50%;border-radius:50%;color:#fff;display:block;float:right;height:30px;line-height:30px;text-align:center;text-decoration:none;width:30px;margin-top:10px;opacity:.3}.cptn03 .cptn .fa:hover{opacity:1}.cptn03 .cptn h3{color:#fff;margin-top:10px;margin-bottom:0;font-size:16px;font-weight:400}.cptn03 .cptn p{color:fff;font-size:14px}.home-pagination{margin-top:1rem}",""])},308:function(e,t,o){"use strict";o.r(t);var r=o(5),c=o.n(r),n=o(4),l=o(10),d=o.n(l),h={layout:"default",middleware:"auth",components:{},head(){return{title:this.$t("home")}},data:()=>({apiUrl:"http://localhost:8000",checked:!1,projectsClicked:[],editable:!1,ready:!1,currentPage:0,projectName:"",form:new d.a({project_name:"Project 1",user_id:"",private:!0}),patchForm:new d.a({id:"",project_name:""}),deleteForm:new d.a({id:""}),deleteMultipleForm:new d.a({projects:[]})}),computed:{...Object(n.mapGetters)({user:"auth/user",projects:"Project/getProjects"})},async mounted(){await this.$store.dispatch("Project/fetchProjects")},methods:{getImage(e){return null==this.projects[e].image?this.apiUrl+"/storage//images/default-project-image.png":this.apiUrl+"/storage/"+this.projects[e].image},showEditable(e){this.$store.commit("Project/SHOW_EDITABLE",e)},hideEditable(e){this.$store.commit("Project/HIDE_EDITABLE",e)},selectProject(e){if(this.projectsClicked.includes(e)){const t=this.projectsClicked.indexOf(e);this.projectsClicked.splice(t,1),this.$store.commit("Project/DESELECT_PROJECT",e)}else this.projectName=this.projects[e].project_name,this.$store.commit("Project/SELECT_PROJECT",e),this.projectsClicked.push(e)},async changeProjectName(e,t){const o=this.projects[t].id;this.patchForm.id=o,this.patchForm.project_name=e.target.value;try{await this.patchForm.patch(`user/project/${o}/update`)}catch(e){console.log(e)}this.$store.commit("Project/CHANGE_PROJECT_NAME",{value:e.target.value,index:t}),this.projectName="",this.projectsClicked.splice(0,1)},handleSelect(e){switch(e){case"rename":this.$store.commit("Project/MAKE_RENAMEABLE",this.projectsClicked[0]);break;case"delete":this.deleteProject(),this.projectName="";break;case"deleteMultiple":this.deleteProjects(),this.projectName=""}},async changeNumber(e){this.currentPage+=1,c.a.get("user/projects?page="+this.currentPage).then(t=>{null!=t.data.next_page_url?(this.$store.dispatch("Project/changeNumber",t),e.loaded()):e.complete()}).catch(e=>{console.log(e)})},async createProject(e){this.form.user_id=this.user.id,this.form.project_name=e.target.value;let data="";try{data=await this.form.post("user/project/create")}catch(e){return}data=data.data,this.$store.dispatch("Project/createProject",{project_id:data.project_id,project_name:this.form.project_name,user_id:this.user.id,private:this.form.private}),this.$store.dispatch("Layout/initialize",{id:data.project_id}),this.$router.push({name:"project.create",params:{id:data.project_id}})},async viewProject(e){this.$router.push({name:"project.view",params:{id:e}})},async deleteProject(){const e=this.projects[this.projectsClicked[0]].id;this.deleteForm.id=e;try{await this.deleteForm.delete(`user/project/${e}/delete`)}catch(e){return console.log(e),void this.$message({message:"Sorry something went wrong!",type:"error"})}this.$store.commit("Project/DELETE_PROJECT",this.projectsClicked[0]),this.$message({message:"Project Deleted",type:"success"}),this.projectsClicked.splice(0,1)},async deleteProjects(){this.projectsClicked.forEach(i=>this.deleteMultipleForm.projects.push(this.projects[i].id));try{await this.deleteMultipleForm.post("user/projects/delete"),this.$message({message:"Projects Deleted",type:"success"})}catch(e){return console.log(e),void this.$message({message:"Sorry something went wrong!",type:"error"})}this.$store.commit("Project/DELETE_PROJECTS",this.deleteMultipleForm.projects),this.projectsClicked.splice(0,this.projectsClicked.length),this.$message({message:"Projects Deleted",type:"success"})}}},m=o(3);var component=Object(m.a)(h,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",[o("el-aside",[o("el-menu",{staticClass:"home-sidebar",attrs:{"default-active":"1","background-color":"#e6e6e6","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[0===e.projectsClicked.length?[o("el-submenu",{attrs:{index:"create"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),e._v(" "),o("span",[e._v("Create Project")])]),e._v(" "),o("el-menu-item",{attrs:{index:"create-input"}},[o("el-input",{attrs:{placeholder:"Project Name"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createProject(t)}},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],2)]:1===e.projectsClicked.length?[o("el-menu-item",{attrs:{index:"rename"}},[e._v("\n        Rename\n        ")]),e._v(" "),o("el-menu-item",{attrs:{index:"delete"}},[e._v("\n        Delete\n        ")])]:e.projectsClicked.length>1?[o("el-menu-item",{attrs:{index:"deleteMultiple"}},[e._v("\n        Delete\n        ")])]:e._e()],2)],1),e._v(" "),o("el-main",{staticClass:"home-content"},[o("el-row",{staticClass:"home-content-row"},[o("p"),e._v(" "),e._l(e.projects,function(t,r){return o("el-col",{key:r,staticClass:"home-content-column wobble",attrs:{span:6}},[o("div",{staticClass:"cptn03",on:{mouseover:function(t){return e.showEditable(r)},mouseleave:function(t){return e.hideEditable(r)}}},[o("img",{staticStyle:{height:"215px"},attrs:{id:t.id,src:e.getImage(r),alt:""}}),e._v(" "),o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.editable||t.selected,expression:"project.editable || project.selected"}],staticClass:"home-column-checkbox",attrs:{value:t.selected},on:{input:function(t){return e.selectProject(r)}}}),e._v(" "),o("div",{staticClass:"cptn"},[o("div",[t.rename?[o("el-input",{attrs:{placeholder:t.project_name},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeProjectName(t,r)}},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})]:[o("h3",[e._v("\n                  "+e._s(t.project_name)+" ("+e._s(e.user.first_name)+","+e._s(e.user.last_name)+")\n                ")]),e._v(" "),o("p",[e._v(e._s(t.updated_at))])]],2),e._v(" "),o("a",{on:{click:function(o){return e.viewProject(t.id)}}},[o("fa",{staticClass:"fa",attrs:{icon:"arrow-right"}})],1)])],1)])})],2),e._v(" "),o("no-ssr",[o("infinite-loading",{on:{infinite:e.changeNumber}})],1)],1)],1)},[],!1,function(e){var t=o(225);t.__inject__&&t.__inject__(e)},null,"35bc0236");t.default=component.exports}};
//# sourceMappingURL=c7f7561c03ca38eebbfb.js.map