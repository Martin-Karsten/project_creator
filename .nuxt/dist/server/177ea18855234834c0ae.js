exports.ids=[8],exports.modules={161:function(e,r,t){var content=t(235);"string"==typeof content&&(content=[[e.id,content,""]]),content.locals&&(e.exports=content.locals);var o=t(7).default;e.exports.__inject__=function(e){o("157bedf4",content,!0,e)}},234:function(e,r,t){"use strict";t.r(r);var o=t(161),l=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);r.default=l.a},235:function(e,r,t){(e.exports=t(6)(!1)).push([e.id,".register-form{margin-top:7%}",""])},307:function(e,r,t){"use strict";t.r(r);var o=t(10),l=t.n(o),n={layout:"settings",head(){return{title:this.$t("register")}},data(){return{form:new l.a({first_name:"",last_name:"",email:"",password:"",password_confirmation:""}),rules:{password:[{validator:(e,r,t)=>{""===r?t(new Error("Please input the password")):(""!==this.form.password_confirmation&&this.$refs.form.validateField("password_confirmation"),t())},trigger:"blur"},{min:8,max:80,message:"At least 8 Characters",trigger:"blur"}],password_confirmation:[{validator:(e,r,t)=>{""===r?t(new Error("Please input the password again")):r!==this.form.password?t(new Error("Two inputs don't match!")):t()},trigger:"blur"}],first_name:[{required:!0,message:"First Name required"},{max:80,trigger:"blur"}],last_name:[{required:!0,message:"Last Name required"},{max:80,trigger:"blur"}],email:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]}}},methods:{submitForm(){this.$refs.form.validate(e=>{if(!e)return!1;console.log("register"),this.register()})},async register(){const{data:data}=await this.form.post("/register"),{data:{token:e}}=await this.form.post("/login");this.$store.dispatch("auth/saveToken",{token:e}),await this.$store.dispatch("auth/updateUser",{user:data}),this.$router.push({name:"home"})}}},m=t(3);var component=Object(m.a)(n,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-col",{staticClass:"register-form",attrs:{offset:6}},[t("el-form",{ref:"form",attrs:{"label-position":"top",rules:e.rules,model:e.form}},[t("el-row",{attrs:{gutter:12}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"First Name",prop:"first_name"}},[t("el-input",{class:{"is-invalid":e.form.errors.has("name")},attrs:{type:"text",placeholder:"First Name",name:"first_name",autocomplete:"on"},model:{value:e.form.first_name,callback:function(r){e.$set(e.form,"first_name",r)},expression:"form.first_name"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Last Name",prop:"last_name"}},[t("el-input",{class:{"is-invalid":e.form.errors.has("name")},attrs:{type:"text",placeholder:"Last Name",name:"last_name",autocomplete:"on"},model:{value:e.form.last_name,callback:function(r){e.$set(e.form,"last_name",r)},expression:"form.last_name"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"EMail Address",prop:"email"}},[t("el-input",{attrs:{type:"email",autocomplete:"on"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Confirm Password",prop:"password_confirmation"}},[t("el-input",{attrs:{type:"password"},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"form.password_confirmation"}})],1)],1)],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Register")])],1)],1)},[],!1,function(e){var r=t(234);r.__inject__&&r.__inject__(e)},null,"7293a994");r.default=component.exports}};
//# sourceMappingURL=177ea18855234834c0ae.js.map