(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{604:function(e,t,r){var content=r(690);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("5a16635a",content,!0,{sourceMap:!1})},689:function(e,t,r){"use strict";var n=r(604);r.n(n).a},690:function(e,t,r){(e.exports=r(19)(!1)).push([e.i,".home-sidebar{height:88vh;margin-top:1.4rem}.home-content{height:90vh;overflow-y:auto;padding-bottom:0}.home-content-row{margin-bottom:0!important;padding-bottom:0;min-height:93%}.home-content-column{padding:0 .5rem 1rem;border-radius:4px}.cptn03{overflow:hidden;border-radius:4px}.cptn03,.cptn03 img{width:100%;position:relative}.cptn03 img{height:100%;left:0;bottom:0}.home-column-checkbox{position:absolute;top:15px;left:345px}.cptn03 .cptn{background:rgba(84,92,100,.5);width:95%;height:30%;position:absolute;left:0;overflow:auto;padding:0 10px;border-radius:4px;top:68%}.cptn03 .cptn div{float:left;height:100%}.cptn03 .cptn .fa{-wibkit-box-sizing:content-box;box-sizing:content-box;border:2px solid #fff;-wibkit-border-radius:50%;border-radius:50%;color:#fff;display:block;float:right;height:30px;line-height:30px;text-align:center;text-decoration:none;width:30px;margin-top:10px;opacity:.3}.cptn03 .cptn .fa:hover{opacity:1}.cptn03 .cptn h3{color:#fff;margin-top:10px;margin-bottom:0;font-size:16px;font-weight:400}.cptn03 .cptn p{color:fff;font-size:14px}.home-pagination{margin-top:1rem}",""])},867:function(e,t,r){"use strict";r.r(t);r(84),r(106),r(14);var n=r(4),o=r(9),c=r(18),l=r.n(c),h=r(13),m=r(56),d=r.n(m),f={layout:"default",middleware:"auth",components:{},head:function(){return{title:this.$t("home")}},data:function(){return{apiUrl:"http://localhost:8000",checked:!1,projectsClicked:[],editable:!1,ready:!1,currentPage:0,projectName:"",form:new d.a({project_name:"Project 1",user_id:"",private:!0}),patchForm:new d.a({id:"",project_name:""}),deleteForm:new d.a({id:""}),deleteMultipleForm:new d.a({projects:[]})}},computed:Object(o.a)({},Object(h.b)({user:"auth/user",projects:"Project/getProjects"})),mounted:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("Project/fetchProjects");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{getImage:function(e){return null==this.projects[e].image?this.apiUrl+"/storage//images/default-project-image.png":this.apiUrl+"/storage/"+this.projects[e].image},showEditable:function(e){this.$store.commit("Project/SHOW_EDITABLE",e)},hideEditable:function(e){this.$store.commit("Project/HIDE_EDITABLE",e)},selectProject:function(e){if(this.projectsClicked.includes(e)){var t=this.projectsClicked.indexOf(e);this.projectsClicked.splice(t,1),this.$store.commit("Project/DESELECT_PROJECT",e)}else this.projectName=this.projects[e].project_name,this.$store.commit("Project/SELECT_PROJECT",e),this.projectsClicked.push(e)},changeProjectName:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.projects[r].id,this.patchForm.id=n,this.patchForm.project_name=t.target.value,e.prev=3,e.next=6,this.patchForm.patch("user/project/".concat(n,"/update"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:this.$store.commit("Project/CHANGE_PROJECT_NAME",{value:t.target.value,index:r}),this.projectName="",this.projectsClicked.splice(0,1);case 14:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t,r){return e.apply(this,arguments)}}(),handleSelect:function(e){switch(e){case"rename":this.$store.commit("Project/MAKE_RENAMEABLE",this.projectsClicked[0]);break;case"delete":this.deleteProject(),this.projectName="";break;case"deleteMultiple":this.deleteProjects(),this.projectName=""}},changeNumber:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!1,this.currentPage+=1,l.a.get("user/projects?page="+this.currentPage).then(function(e){null!=e.data.next_page_url?(r.$store.dispatch("Project/changeNumber",e),t.loaded()):t.complete()}).catch(function(e){console.log(e)});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),createProject:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.form.user_id=this.user.id,this.form.project_name=t.target.value,data="",e.prev=3,e.next=6,this.form.post("user/project/create");case 6:data=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return");case 12:data=data.data,this.$store.dispatch("Project/createProject",{project_id:data.project_id,project_name:this.form.project_name,user_id:this.user.id,private:this.form.private}),this.$store.dispatch("Layout/initialize",{id:data.project_id}),this.$router.push({name:"project.create",params:{id:data.project_id}});case 16:case"end":return e.stop()}},e,this,[[3,9]])}));return function(t){return e.apply(this,arguments)}}(),viewProject:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$router.push({name:"project.view",params:{id:t}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.projects[this.projectsClicked[0]].id,this.deleteForm.id=t,e.prev=2,e.next=5,this.deleteForm.delete("user/project/".concat(t,"/delete"));case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),console.log(e.t0),this.$message({message:"Sorry something went wrong!",type:"error"}),e.abrupt("return");case 12:this.$store.commit("Project/DELETE_PROJECT",this.projectsClicked[0]),this.$message({message:"Project Deleted",type:"success"}),this.projectsClicked.splice(0,1);case 15:case"end":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}(),deleteProjects:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.projectsClicked.forEach(function(i){return t.deleteMultipleForm.projects.push(t.projects[i].id)}),e.prev=1,e.next=4,this.deleteMultipleForm.post("user/projects/delete");case 4:this.$message({message:"Projects Deleted",type:"success"}),e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),this.$message({message:"Sorry something went wrong!",type:"error"}),e.abrupt("return");case 12:this.$store.commit("Project/DELETE_PROJECTS",this.deleteMultipleForm.projects),this.projectsClicked.splice(0,this.projectsClicked.length),this.$message({message:"Projects Deleted",type:"success"});case 15:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()}},j=(r(689),r(5)),component=Object(j.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-aside",[r("el-menu",{staticClass:"home-sidebar",attrs:{"default-active":"1","background-color":"#e6e6e6","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[0===e.projectsClicked.length?[r("el-submenu",{attrs:{index:"create"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-location"}),e._v(" "),r("span",[e._v("Create Project")])]),e._v(" "),r("el-menu-item",{attrs:{index:"create-input"}},[r("el-input",{attrs:{placeholder:"Project Name"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createProject(t)}},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],2)]:1===e.projectsClicked.length?[r("el-menu-item",{attrs:{index:"rename"}},[e._v("\n        Rename\n        ")]),e._v(" "),r("el-menu-item",{attrs:{index:"delete"}},[e._v("\n        Delete\n        ")])]:e.projectsClicked.length>1?[r("el-menu-item",{attrs:{index:"deleteMultiple"}},[e._v("\n        Delete\n        ")])]:e._e()],2)],1),e._v(" "),r("el-main",{staticClass:"home-content"},[r("el-row",{staticClass:"home-content-row"},[r("p"),e._v(" "),e._l(e.projects,function(t,n){return r("el-col",{key:n,staticClass:"home-content-column wobble",attrs:{span:6}},[r("div",{staticClass:"cptn03",on:{mouseover:function(t){return e.showEditable(n)},mouseleave:function(t){return e.hideEditable(n)}}},[r("img",{staticStyle:{height:"215px"},attrs:{id:t.id,src:e.getImage(n),alt:""}}),e._v(" "),r("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.editable||t.selected,expression:"project.editable || project.selected"}],staticClass:"home-column-checkbox",attrs:{value:t.selected},on:{input:function(t){return e.selectProject(n)}}}),e._v(" "),r("div",{staticClass:"cptn"},[r("div",[t.rename?[r("el-input",{attrs:{placeholder:t.project_name},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeProjectName(t,n)}},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})]:[r("h3",[e._v("\n                  "+e._s(t.project_name)+" ("+e._s(e.user.first_name)+","+e._s(e.user.last_name)+")\n                ")]),e._v(" "),r("p",[e._v(e._s(t.updated_at))])]],2),e._v(" "),r("a",{on:{click:function(r){return e.viewProject(t.id)}}},[r("fa",{staticClass:"fa",attrs:{icon:"arrow-right"}})],1)])],1)])})],2),e._v(" "),r("no-ssr",[r("infinite-loading",{on:{infinite:e.changeNumber}})],1)],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);