(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{609:function(e,r,t){var content=t(699);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(20).default)("157bedf4",content,!0,{sourceMap:!1})},698:function(e,r,t){"use strict";var o=t(609);t.n(o).a},699:function(e,r,t){(e.exports=t(19)(!1)).push([e.i,".register-form{margin-top:7%}",""])},876:function(e,r,t){"use strict";t.r(r);t(14);var o=t(4),n=t(56),l=t.n(n),m={layout:"settings",head:function(){return{title:this.$t("register")}},data:function(){var e=this;return{form:new l.a({first_name:"",last_name:"",email:"",password:"",password_confirmation:""}),rules:{password:[{validator:function(r,t,o){""===t?o(new Error("Please input the password")):(""!==e.form.password_confirmation&&e.$refs.form.validateField("password_confirmation"),o())},trigger:"blur"},{min:8,max:80,message:"At least 8 Characters",trigger:"blur"}],password_confirmation:[{validator:function(r,t,o){""===t?o(new Error("Please input the password again")):t!==e.form.password?o(new Error("Two inputs don't match!")):o()},trigger:"blur"}],first_name:[{required:!0,message:"First Name required"},{max:80,trigger:"blur"}],last_name:[{required:!0,message:"Last Name required"},{max:80,trigger:"blur"}],email:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]}}},methods:{submitForm:function(){var e=this;this.$refs.form.validate(function(r){if(!r)return!1;console.log("register"),e.register()})},register:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var r,data,t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.form.post("/register");case 2:return r=e.sent,data=r.data,e.next=6,this.form.post("/login");case 6:return t=e.sent,o=t.data.token,this.$store.dispatch("auth/saveToken",{token:o}),e.next=11,this.$store.dispatch("auth/updateUser",{user:data});case 11:this.$router.push({name:"home"});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},f=(t(698),t(5)),component=Object(f.a)(m,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-col",{staticClass:"register-form",attrs:{offset:6}},[t("el-form",{ref:"form",attrs:{"label-position":"top",rules:e.rules,model:e.form}},[t("el-row",{attrs:{gutter:12}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"First Name",prop:"first_name"}},[t("el-input",{class:{"is-invalid":e.form.errors.has("name")},attrs:{type:"text",placeholder:"First Name",name:"first_name",autocomplete:"on"},model:{value:e.form.first_name,callback:function(r){e.$set(e.form,"first_name",r)},expression:"form.first_name"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Last Name",prop:"last_name"}},[t("el-input",{class:{"is-invalid":e.form.errors.has("name")},attrs:{type:"text",placeholder:"Last Name",name:"last_name",autocomplete:"on"},model:{value:e.form.last_name,callback:function(r){e.$set(e.form,"last_name",r)},expression:"form.last_name"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"EMail Address",prop:"email"}},[t("el-input",{attrs:{type:"email",autocomplete:"on"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Confirm Password",prop:"password_confirmation"}},[t("el-input",{attrs:{type:"password"},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"form.password_confirmation"}})],1)],1)],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Register")])],1)],1)},[],!1,null,null,null);r.default=component.exports}}]);